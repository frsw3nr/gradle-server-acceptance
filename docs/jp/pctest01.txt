$log_dir = "."
$ip = "192.168.0.14"
$vcenter = "192.168.10.100"
$user = "test_user"
$password = "P@ssword"

Add-PSSnapin VMware.VimAutomation.Core
Connect-VIServer -User $user -Password $password -Server $vcenter


Get-VMHost | Get-Member

Get-VMHost | Format-List



警告: The 'State' property of VMHost type is deprecated. Use the 'ConnectionState' property instead.
警告: PowerCLI scripts should not use the 'Client' property. The property will be removed in a future release.
警告: PowerCLI scripts should not use the 'DatastoreIdList' property of VMHost type. The property will be removed in a future rel
ease.
State                 : Connected
ConnectionState       : Connected
PowerState            : PoweredOn
VMSwapfileDatastoreId : 
VMSwapfilePolicy      : WithVM
ParentId              : Folder-ha-folder-host
IsStandalone          : True
Manufacturer          : ASUS
Model                 : All Series
NumCpu                : 4
CpuTotalMhz           : 12768
CpuUsageMhz           : 672
LicenseKey            : 0J68N-XXXXX-XXXXX-XXXXX-1T6L5
MemoryTotalMB         : 24451.6796875
MemoryTotalGB         : 23.87859344482421875
MemoryUsageMB         : 8126
MemoryUsageGB         : 7.935546875
ProcessorType         : Intel(R) Core(TM) i5-4460  CPU @ 3.20GHz
HyperthreadingActive  : False
TimeZone              : UTC
Version               : 5.5.0
Build                 : 1331820
Parent                : host
VMSwapfileDatastore   : 
StorageInfo           : HostStorageSystem-storageSystem
NetworkInfo           : esxi:ostrich
DiagnosticPartition   : 
FirewallDefaultPolicy : VMHostFirewallDefaultPolicy:HostSystem-ha-host
ApiVersion            : 5.5
Name                  : 192.168.10.100
CustomFields          : {}
ExtensionData         : VMware.Vim.HostSystem
Id                    : HostSystem-ha-host
Uid                   : /VIServer=test_user@192.168.10.100:443/VMHost=HostSystem-ha-host/
Client                : VMware.VimAutomation.ViCore.Impl.V1.VimClient
DatastoreIdList       : {Datastore-55cc793f-3926eac0-43f9-001b217d201d, Datastore-55cc35aa-46efadd8-29ed-001b217d201d}

 Get-VMHostAccount | Format-List


警告: The 'ServerId' property of HostGroupAccount type is deprecated. Use the 'Server' property instead.
Groups             : {}
Id                 : root
ServerId           : /VIServer=test_user@192.168.10.100:443/
Server             : 192.168.10.100
Description        : Administrator
Domain             : 
ShellAccessEnabled : True
Name               : root
Uid                : /VIServer=test_user@192.168.10.100:443/HostUserAccount=root/
ExtensionData      : VMware.Vim.PosixUserSearchResult
Client             : VMware.VimAutomation.ViCore.Impl.V1.VimClient

Get-VMHostAdvancedConfiguration

# システムクロック
Get-VMHost | select Name,{($_ | Get-EsxCli).system.time.get()}
# ハードウェアクロック
Get-VMHost | select Name,{($_ | Get-EsxCli).hardware.time.get()}

# ESXサーバ物理NIC帯域の確認コマンド
Get-VMHostNetworkAdapter -VMHost *  | ft -AutoSize VMHost,Name,BitRatePerSec


