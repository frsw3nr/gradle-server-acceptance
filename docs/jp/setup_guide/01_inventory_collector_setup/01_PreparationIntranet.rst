イントラネット環境での設定
==========================

.. note:: インストールは外部インターネットから各種オープンソースをダウンロードして行います。イントラネット環境でプロキシー経由でのアクセスが必要な場合は、以下のプロキシー設定が必要になります。

.. note:: プロキシー設定が不要な場合は本セクションの設定はスキップしてください。

プロキシー設定
--------------

プロキシー環境の設定
~~~~~~~~~~~~~~~~~~~~

社内プロキシーの設定を行います。
プロキシーサーバを
proxy.your.company.co.jp、接続ポートを 8080　を例にして設定手順を記します。

1. Internet Exploler を起動します。

* メニュー「設定」->「インターネットオプション」を選択します。

* 「接続」タブを選択します。

* 「LANの設定」をクリックします。

* 「LANにプロキシーサーバを使用する」をチェックします。

* プロキシサーバーの「アドレス」に社内プロキシーサーバアドレス
  (proxy.your.company.co.jp)を入力します。

* プロキシーサーバの「ポート」にプロキシーサーバ接続ポート番号(8080)を入力します。

* 「ローカルアドレスにはプロキシーサーバを使用しない」をチェックします。

* 「詳細設定」をクリックします。

* 「次で始まるアドレスにはプロキシーを使用しない」に、プロキシーサーバと、構成管理DBサーバのアドレスを';' 区切りで続けて入力します。

    ::

        proxy.your.company.co.jp;{構成管理DBサーバのアドレス}

hosts ファイル編集
~~~~~~~~~~~~~~~~~~

ネームサーバが有効になっていない環境の場合、自身のサーバのアドレスと、プロキシーサーバの
アドレス設定が必要な場合があります。
以下のホストファイルを開いて、アドレスを追加してください。

::

    cd C:\Windows\System32\drivers\etc
    notepad hosts 

以下の行を追加します。

::

    XX.XX.XX.XX    {自身のサーバのホスト名}
    YY.YY.YY.YY    proxy.your.company.co.jp   # プロキシーサーバ
    ZZ.ZZ.ZZ.ZZ    {構成管理DBサーバ名}

社内認証局の証明書インポート
----------------------------

セキュリティ対策で、ウェブサイトのアクセスで認証局による SSL　認証が必要な場合は、社外用認証局証明書をインストールします。
社内 IS　部門サイトから、認証局証明書保存ディレクトリに証明書をダウンロードして
インストールします。

1. intra_ssl_cert.cer のインポート

intra_ssl_cert.cer という証明書をダウンロードして、インポートする例を記します。

* 証明書を右クリックで選択し、「証明書のインストール」を選択します。

* 保存場所に「ローカルコンピュータ」を選択して、「次へ」をクリックします。

* 「証明書を全て次のストアに配置する」を選択して、「参照」をクリックします。

* 証明書ストアに「信頼されたルート証明機関」をクリックします。

.. 2. Java 用証明書セットアップ

.. keytool を用いて、上記でダウンロードした証明書をJavaにインストールします。

.. ::

..     keytool -import -alias IntraRootCA -keystore /etc/pki/java/cacerts -file /etc/pki/tls/certs/intra_ssl_cert.cer

.. Enter keystore password:と聞かれる場合は、CentOS
.. JDKデフォルトの"changeit"を入力します

.. .. note::

..     keytool が入っていない場合は、 sudo -E yum -y install
..     java-1.7.0-openjdk-devel で JDK をインストールしてください

