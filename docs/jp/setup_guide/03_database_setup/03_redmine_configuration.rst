Redmine 設定
============

Redmine の Web管理画面から Redmine をカスタマイズします。

初期設定
--------

`Redmineを使い始めるための初期設定`_ を参考にして、日本語の利用に適した設定の通り変更します。

.. _Redmineを使い始めるための初期設定: https://redmine.jp/tech_note/first-step/admin/

::

   https://redmine.jp/tech_note/first-step/admin/

設定
^^^^

WebブラウザからRedmineに接続して接続確認します。

::

   http://{DBサーバのIP}:8080/redmine/

admin でログインします(パスワードも同じ)。
ログイン後、admin ユーザのパスワードを変更します。


メニュー、「管理」、「設定」を選択し、各設定タブの編集をします。

.. note::

   以下に各タブの設定内容を記します。
   各タブの設定終了後、画面左下の「保存」をクリックしてください。

* 「全般」タブ

   * アプリケーションのタイトルを「構成管理データベース」に変更します。

* 「表示」タブ

   * デフォルトの言語を「Japanese」に変更します

* 「認証」タブ

   ログインしていないユーザには情報を見せない設定をします。

   * 認証が必要を 「ON」 に
   * ユーザによるアカウント登録を 「無効」 に
   * ユーザによるアカウント削除の許可を 「OFF」 に
   * デフォルト設定のタイムゾーンを「(GMT+09:00) Tokyo」に

* 「API」タブ

   スクリプトからのデータ登録を有効にするため、以下の有効化設定をします。

   * RESTによるWebサービスを有効にするを「ON」に
   * JSONPを有効にするを「ON」に

   保存後、画面右上の「個人設定」を選択し、右側に表示されているAPIアクセスキー
   の表示をクリックします。
   表示されたアクセスキーを環境変数に設定します。

   ::

      vi ~/.bash_profile

   最終行に以下の行を設定します。

   ::

      export REDMINE_API_KEY={表示されたアクセスキー}
      export REDMINE_URL=http://{Redmineサーバアドレス}/redmine

   ::

      source ~/.bash_profile

   .. note:: アクセスキーはこの後のワークフローセットアップで使用します。

* 「プロジェクト」タブ

   メニュー、管理、設定を選択し、プロジェクトタブを選択します。

   * デフォルトで新しいプロジェクトは公開にするを「OFF」にします。
   * デフォルトで有効になるモジュールで以下のモジュールを「OFF」にします
      * 時間管理 / ニュース / リポジトリ / カレンダー / ガントチャート
   * デフォルトで有効になるトラッカーで全てのトラッカーを「ON」にします
   * システム管理者以外のユーザーが作成したプロジェクトに設定する
     ロールに「開発者」を選択します

* 「チケットトラッキング」タブ

   * 異なるプロジェクトのチケット間で関連の設定を許可を「ON」にします
   * 異なるプロジェクトのチケット間の親子関係を許可を「すべてのプロジェクト」にします

* 「メール通知」タブ (T.B.D.)

   Redmine から通知されるメールの本文の Redmine のリンクURLを設定します。

   メニュー、管理、設定、全般で以下の項目を変更します。

   * ホスト名とパスを、「実在するサーバのURL」に

   Redmine から送信されるメールの From のアドレスと本文の振ったを設定します。

   メニュー、管理、設定、メール通知で行います。

   * 送信元メールアドレスを、「実在するメールアドレス」 に
   * メールのフッタを、「デフォルトのものを削除」　に

.. * 添付ファイルの上限の設定

..    メニュー、管理、設定、ファイル 内の 「添付ファイルの上限」を設定します。

.. * テキスト編集の書式設定

..    メニュー、管理、設定、全般 内の テキストの書式を設定します。
..    「Textile」 から、「Markdown」 に変更します。

.. * エクスポートするチケット数の上限設定

..    メニュー、設定、チケットランキング内の「添付ファイルサイズの上限」を設定します。


プロジェクトを始める準備
------------------------

プロジェクトを作成する前に各種マスター定義を行います。
メニュー、管理から以下の設定を行います。

トラッカー
^^^^^^^^^^

既定のトラッカーを名称を変更します。

* バグを「障害対応」に変更
* 機能を「作業」に変更

プロジェクトの作成
------------------

プロジェクトメニューから「新しいプロジェクト」をクリックして、
新規プロジェクトを作成します。
ここではサンプル用プロジェクト「TokyoDC」を作成します。

* 名称を「TokyoDC」を入力します
* 説明に「東京DC」を入力します
* メンバーを継承を「ON」にします

カスタムフィールド
------------------

Getconfig Redmine プラグインメニューのリンクを作成します。

カスタムフィールドメニューから、「インベントリ」を選択します。

URL のフィールドに以下を入力します。

::

   /redmine/inventory?node=%value%

ユーザの作成
------------

メニュー、管理、ユーザを選択して、「新しいユーザ」をクリックします。
以下の項目を入力します。

* ログインID
   - ローマ字入力で「{苗字}-{名前の頭文字}」の形式で入力。
   - 例えば、古澤 実の場合、furusawa-m とします
* 名前 / 苗字 / メールアドレス
   - ユーザ情報を入力
* パスワード
   - 既定のパスワード 入力
   - 「初回ログイン時にパスワード変更を強制」 をチェック
* 言語
   - 「日本語」に
* システム管理者
   - システム管理者の場合、チェック。システム管理者は「管理」画面でプロジェクトやユーザの更新、そのほかRedmine 全体にかかわる設定ができます
* メール通知
   - ウォッチまたは関係している事柄のみ
* タイムゾーン
   - (GMT+09:00) Tokyo に

