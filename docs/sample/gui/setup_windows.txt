Windows 環境セットアップ

babun のインストール

http://babun.github.io/

To setup proxy uncomment following lines in the .babunrc file (%USERPROFILE%\.babun\cygwin\home\USER\.babunrc)

プロキシー追加

# Uncomment this lines to set up your proxy
 export http_proxy=http://proxy.your.company.co.jp:8080
 export https_proxy=$http_proxy
 export ftp_proxy=$http_proxy
 export no_proxy=localhost

/etc/pki/tls/certs/ に SSL 証明書追加

cd /etc/pki/tls/certs/
unzip intra_ssl_cert.zip

ca-bundle.crt のバックアップを取ります。

cp -p ca-bundle.crt ca-bundle.crt.bak
解凍した社外の証明書をca-bundle.crt に登録(アペンド)します。

cat intra_ssl_cert.cer >> ca-bundle.crt


JavaにSSL証明書追加

cd "c:/Program Files/Java/jdk1.8.0_144/jre/lib/security"
keytool -import -alias IntraRootCA -keystore ./cacerts -file .\intra-cer.cer
keytool -import -alias IntraRootCA2 -keystore ./cacerts -file .\toshiba.cer


プロキシー設定

zip インストール

pact install zip    

SDKMAN

curl -s http://get.sdkman.io | bash

source ~/.sdkman/bin/sdkman-init.sh

Lazybones

sdk install lazybones

lazybones list

Windows users should use the %USER_HOME%\.lazybones\config.groovy path.
Griffon project templates are hosted at a Bintray repository, similarly as the standard Lazybones templates. Create the config.groovy file at the specified location if it doesn’t exist, place the following content on it

PowerShell 実行

sdk install gradle

sdk install maven

mkdir ~/.lazybones
sakura .lazybones/config.groovy

bintrayRepositories = [
    'griffon/griffon-lazybones-templates',
    'pledbrook/lazybones-templates'
]

systemProp {
    http {
        proxyHost = "localhost"
        proxyPort = 8181
    }
    https {
        proxyHost = "localhost"
        proxyPort = 8181
    }
}

lazybones list

Available templates in griffon/griffon-lazybones-templates

    griffon-javafx-groovy
    griffon-javafx-java
    griffon-javafx-kotlin
    griffon-lanterna-groovy
    griffon-lanterna-java
    griffon-pivot-groovy
    griffon-pivot-java
    griffon-plugin
    griffon-swing-groovy
    griffon-swing-java

lazybones create griffon-swing-java sample

 C:\Users\ユーザ名\.babun\cygwin\home\ユーザ名

mkdir -p work/gradle
cd work/gradle
lazybones create griffon-javafx-groovy sample-groovy

cd sample-groovy

source ~/.sdkman/bin/sdkman-init.sh

gradle build


...
Project created in sample!

Could not get unknown property 'classesDirs' sourceSets.integrationTest.output.classesDirs

integration.test.gradle の 36行目をコメントアウト

task integrationTest(type: Test, dependsOn: jar) {
    // testClassesDirs = sourceSets.integrationTest.output.classesDirs
    classpath = sourceSets.integrationTest.runtimeClasspath
    reports.html.enabled = false
}

banbuの使用をやめ、CentOSでビルド、Windowsで確認の方針に変える

Gradle Update

export gradle_version=4.2

sudo mkdir -p /usr/local/gradle
cd /tmp/
wget -N http://services.gradle.org/distributions/gradle-${gradle_version}-all.zip
sudo unzip -q gradle-${gradle_version}-all.zip -d /usr/local/gradle
sudo rm /usr/local/gradle/latest
sudo ln -sfn gradle-${gradle_version} /usr/local/gradle/latest

# check installation
gradle -v

Lazybones インストール

sdk install lazybones

mkdir ~/.lazybones
vi ~/.lazybones/config.groovy

bintrayRepositories = [
    'griffon/griffon-lazybones-templates',
    'pledbrook/lazybones-templates'
]

source ~/.sdkman/bin/sdkman-init.sh
